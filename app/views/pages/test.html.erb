<svg>
  <defs>
    <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:rgb(255,255,0);stop-opacity:1" />
      <stop offset="100%" style="stop-color:rgb(255,0,0);stop-opacity:1" />
    </linearGradient>
  </defs>
</svg>
<div id="donutchart" style="width: 900px; height: 500px;"></div>

<%= content_for :after_js do %>
  <script type="text/javascript">
    google.charts.load("current", {packages:["corechart"]});
    google.charts.setOnLoadCallback(drawChart);
    function drawChart() {
      var data = google.visualization.arrayToDataTable([
        ['Members', 'Number of members'],
        ['Active',   12],
        ['Inactive', 1]
      ]);

      var options = {
        pieHole: 0.9,
        legend: { position: "none" },
        slices: {
          0: { color: '#36ad7e' },
          1: { color: 'transparent' }
        }
      };

      var chart = new google.visualization.PieChart(document.getElementById('donutchart'));
      google.visualization.events.addListener(chart, 'ready', allReady);
      chart.draw(data, options);
    }

    function allReady() {
      $("#donutchart [fill='#36ad7e']").attr('fill', 'url(#grad1)');
    }
  </script>
<% end %>
